<!DOCTYPE html>
<html lang="en">
  <head>
    <title>localStorage with json</title>
    <script>
      const storeFruit = () => {
        const fruit = {
          apple: 3,
          banana: 2,
          watermelon: 10,
        };
        // bag이라는거에 fruit객체를 넣겠다
        //localStorage.setItem('bag', fruit);
        //bag	[object Object] 이렇게 들어가게 됌. 즉 잘못 들어가고 있음

        //json으로 문자열로 해서 넣으면 해결됌
        localStorage.setItem('bag', JSON.stringify(fruit));
        //문자열에선 사과, 바나나같이 key를 빼낼 수 없음 그래서 밑에서 Parse
      };
      const takeFruit = () => {
        const list = localStorage.getItem('bag');
        const result = JSON.parse(list); //여기서 객체로 바뀌게됌
        alert(result.apple); //alert는 객체를 몰라서 그냥 객체를 넣으면 똑같이 [object Object] 일케 뜨기때문에 객체.key하면되고
        //그냥 객체만 보고싶으면 콘솔창에!
        console.log(result);
      };
    </script>
  </head>
  <body>
    <button onclick="storeFruit()">과일 담기</button>
    <button onclick="takeFruit()">꺼내기</button>
  </body>
</html>
