<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>device 높이 자동 감지 실습</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      footer {
        height: 100px;
        background-color: darkseagreen;
      }
      #btn {
        position: fixed;
        bottom: 10px;
        left: 90%;
      }
    </style>
    <script>
      // floating btn이 footer를 침범하지 않게!
      //이걸 모든 디바이스의 높이를 자동계산해서 되게
      window.addEventListener('scroll', () => {
        // height 변수 : 화면 위에서부터 footer 위까지의 길이
        const height = document
          .querySelector('footer')
          .getBoundingClientRect().top;
        console.log(height);

        //showHeight : 보이는 화면의 길이
        //window.outerHeight : 메뉴, 주소창 등을 포함
        const showHeight = window.innerHeight;
        console.log(`보이는 화면 길이 : ${showHeight}`);

        if (showHeight >= height) {
          document.getElementById('btn').style = `
          position : relative;
          bottom : 40px;
          right : 10%;
          `;
        } else {
          document.getElementById('btn').style = `
          position : fixed;
          bottom : 10px;
          right : 10%;
          `;
        }
      });
    </script>
  </head>
  <body>
    <img src="./myDog.png" width="100%" />
    <!-- 플로팅 버튼 위로 올리는.. -->
    <button id="btn">^</button>
    <footer>footer</footer>
  </body>
</html>
