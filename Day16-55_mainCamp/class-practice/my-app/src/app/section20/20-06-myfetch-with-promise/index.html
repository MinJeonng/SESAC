<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>나의 fetch 만들기</title>
    <script>
      const myFetchFunc = (Api주소담는통) => {
        // 성공했을떄 함수 : resolve, 실패했을떄 함수 : reject 라고 대부분 씀
        return new Promise((resolve, reject) => {
          const qq = new XMLHttpRequest();
          qq.open('GET', Api주소담는통);
          qq.send();
          qq.addEventListener('load', (res) => {
            resolve(res.target.response);
          });
        });
      };
      const onClickFetch = async () => {
        // .then()으로 받기
        myFetchFunc('https://koreanjson.com/posts/1').then((res) => {
          console.log('여긴 .then 입니다.', res);
        });

        // await로 받기
        const result = await myFetchFunc('https://koreanjson.com/posts/1');
        console.log('여기는 await 입니다.', result);
      };
    </script>
  </head>
  <body>
    <button onclick="onClickFetch()">나만의 fetch 요청하기</button>
  </body>
</html>
